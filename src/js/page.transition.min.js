function pageTransition(e){function r(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(n.readyState===4){if(n.status===200||n.status===0){var e=new DOMParser;t(e.parseFromString(n.responseText,"text/html"))}else{console.log("Error:\n"+n.status+"\n"+n.statusText)}}};n.open("GET",e,true);n.send("")}function i(e,t){for(var n=0,r=t.length;n<r;n++){e.add(t[n])}}function s(e,t){for(var n=0,r=t.length;n<r;n++){e.remove(t[n])}}function o(e,n,o){var u=document.querySelector(t.contentContainerSelector);var a=document.createElement("div");a.id=t.ajaxLoader;u.appendChild(a);u.style.zIndex=2;i(u.classList,n);var f=u.cloneNode(false);f.style.zIndex=1;i(f.classList,n);f.classList.add("new");if(f.id){f.dataset.originalId=f.id;f.id=f.id+"-new"}u.parentNode.appendChild(f);r(e,function(r){var i=document.querySelector("head"),a=r.querySelector("head"),l=r.querySelector(t.contentContainerSelector);f.innerHTML=l.innerHTML;u.classList.add("out");f.classList.add("in");setTimeout(function(){if(o===true){window.history.pushState(null,null,e)}var r=i.querySelectorAll(t.headElementsToReplace),l=a.querySelectorAll(t.headElementsToReplace);for(var c=0,h=r.length;c<h;c++){i.removeChild(r[c])}for(var p=0,d=l.length;p<d;p++){i.appendChild(l[p])}u.parentNode.removeChild(u);s(f.classList,n);f.classList.remove("new");f.classList.remove("in");if(f.dataset.originalId){f.id=f.dataset.originalId;delete f.dataset.originalId}t.afterSlideFunction()},t.cssSlideDuration)})}function u(e){if(e.target.tagName==="A"){var r=e.target,i=r.getAttribute("href");if(r.getAttribute(t.noSlideAttr)!=null||i.match(":")||e.which===2||r.hash.length>0){return}else{e.preventDefault();n=true;o(i,t.effectClasses,true)}}else{return}}var t={effectClasses:["slide"],effectClassesReverse:["slide","reverse"],afterSlideFunction:function(){},ajaxLoader:"ajax-loader",noSlideAttr:"data-no-slide",contentContainerSelector:"body",cssSlideDuration:705,headElementsToReplace:"meta, link, title"};Object.prototype.extend=function(e,t){for(var n in t)e[n]=t[n];return e};t.extend(e);var n=false;if(window.history&&window.history.pushState){window.onpopstate=function(){if(n==true){o(document.location.pathname,t.effectClassesReverse,false)}}}document.addEventListener("click",u,false)}